"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[268],{6268:function(e,t,r){r.r(t),r.d(t,{default:function(){return le}});var o=r(1413),s=r(5671),a=r(3144),i=r(136),n=r(5716),l=r(2791),c="ProfileInfo_descriptionBlock__V-wC3",u="ProfileInfo_infoContainer__-bhte",d="ProfileInfo_name__XVKHr",f=r(1022),p=r(885),h=r(8164),v=r(184),m=function(e){var t=(0,l.useState)(!1),r=(0,p.Z)(t,2),o=r[0],s=r[1],a=(0,l.useState)(e.status),i=(0,p.Z)(a,2),n=i[0],c=i[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,v.jsx)("span",{style:{fontSize:"18px",fontWeight:"700",color:"#CA9CE1"},children:"Status ---"}),!o&&(0,v.jsx)("div",{children:(0,v.jsx)("span",{style:{fontSize:"18px",fontStyle:"italic",minWidth:"100px",minHeight:"12px",cursor:"pointer"},onDoubleClick:function(){s(!0)},children:e.status||"No status"})}),o&&(0,v.jsx)("div",{children:(0,v.jsx)(h.Z,{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatus(n)},value:n,color:"secondary",variant:"standard",autoFocus:!0})})]})},g=r(9596),x=r(3400),j=r(1048),P=r(2793),Z=r(8182),_=r(4419),y=r(9578),C=r(551),b=(0,r(9201).Z)((0,v.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),S=r(5878),w=r(1217);function k(e){return(0,w.Z)("MuiAvatar",e)}(0,S.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var N=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],z=(0,y.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,r=e.ownerState;return(0,P.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,P.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),A=(0,y.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),M=(0,y.ZP)(b,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var R=l.forwardRef((function(e,t){var r=(0,C.Z)({props:e,name:"MuiAvatar"}),o=r.alt,s=r.children,a=r.className,i=r.component,n=void 0===i?"div":i,c=r.imgProps,u=r.sizes,d=r.src,f=r.srcSet,h=r.variant,m=void 0===h?"circular":h,g=(0,j.Z)(r,N),x=null,y=function(e){var t=e.crossOrigin,r=e.referrerPolicy,o=e.src,s=e.srcSet,a=l.useState(!1),i=(0,p.Z)(a,2),n=i[0],c=i[1];return l.useEffect((function(){if(o||s){c(!1);var e=!0,a=new Image;return a.onload=function(){e&&c("loaded")},a.onerror=function(){e&&c("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=o,s&&(a.srcset=s),function(){e=!1}}}),[t,r,o,s]),n}((0,P.Z)({},c,{src:d,srcSet:f})),b=d||f,S=b&&"error"!==y,w=(0,P.Z)({},r,{colorDefault:!S,component:n,variant:m}),R=function(e){var t=e.classes,r={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,_.Z)(r,k,t)}(w);return x=S?(0,v.jsx)(A,(0,P.Z)({alt:o,src:d,srcSet:f,sizes:u,ownerState:w,className:R.img},c)):null!=s?s:b&&o?o[0]:(0,v.jsx)(M,{ownerState:w,className:R.fallback}),(0,v.jsx)(z,(0,P.Z)({as:n,ownerState:w,className:(0,Z.Z)(R.root,a),ref:t},g,{children:x}))})),D=r(9568),I="ProfileAvatar_container__Uu3lD",T=function(e){var t=e.avatar,r=e.withButton,o=e.size,s=e.changePhotoTC;return(0,v.jsxs)("div",{className:I,children:[(0,v.jsx)(R,{src:t||D,style:{width:"".concat(o,"px"),height:"".concat(o,"px"),position:"absolute",bottom:"-117px",left:"120px"},alt:"ava"}),r&&(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&(null===s||void 0===s||s(e.target.files[0]))},style:{display:"none"},accept:"image/png, image/jpeg, image/svg"}),(0,v.jsx)(x.Z,{component:"span",style:{fontSize:"2.5rem",position:"absolute",bottom:"-114px",right:"121px",border:"1px solid #CA9CE1"},children:(0,v.jsx)(g.Z,{})})]})]})},F=r(5527),B=function(e){var t,r;return e.profile?(0,v.jsx)("div",{className:c,children:(0,v.jsxs)(F.Z,{elevation:3,component:"div",sx:{height:"400px",width:"100%"},children:[(0,v.jsx)(T,{avatar:null===(t=e.profile)||void 0===t?void 0:t.photos.large,changePhotoTC:e.changePhotoTC,withButton:!0,size:200}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("div",{className:d,children:null===(r=e.profile)||void 0===r?void 0:r.fullName}),(0,v.jsx)(m,{status:e.status,updateStatus:e.updateStatus})]})]})}):(0,v.jsx)(f.Z,{})},U=r(5611),E="MyPosts_postsBlock__a+JeC",H="MyPosts_posts__RKFX1",q="MyPost_itemContainer__f0WTd",V="MyPost_itemPhoto__5jBwn",W="MyPost_likeContainer__Y6Vha",X=r(7488),K=function(e){return(0,v.jsxs)("div",{className:q,children:[(0,v.jsx)("img",{src:e.avatar||D,alt:"avatar",className:V}),e.message,(0,v.jsxs)("div",{className:W,children:[(0,v.jsx)(X.Z,{fontSize:"small"}),(0,v.jsxs)("div",{children:[" ",e.likesCount]})]})]})},L=r(6139),O=r(704),$=r(2591),G=r(3079),J="AddNewPostForm_field__GAHUL",Y=(0,G.D)(10),Q=(0,O.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,v.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,v.jsx)("div",{className:J,children:(0,v.jsx)(L.Z,{component:$.gx,name:"newPostText",validate:[G.C,Y],placeholder:"Post message"})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add post"})})]})})),ee=(0,l.memo)((function(e){var t=e.profilePage.posts.map((function(t){return(0,v.jsx)(K,{avatar:e.profilePage.profile.photos.large,message:t.message,likesCount:t.likesCount},t.id)}));return(0,v.jsx)("div",{className:E,children:(0,v.jsxs)(F.Z,{elevation:3,component:"div",sx:{width:"100%"},children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)(Q,{onSubmit:function(t){e.addPost(t.newPostText)}}),(0,v.jsx)("div",{className:H,children:t})]})})})),te=r(364),re=(0,te.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,U.Pi)(t))}}}))(ee),oe="Profile_profileContainer__qljcb",se=r(9271),ae=function(e){return e.isAuth?e.profile?(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{style:{width:"101%",height:" 300px",objectFit:"cover",borderRadius:"0%"},alt:"big content",src:"https://wallpapershome.ru/images/pages/pic_h/182.jpg"})}),(0,v.jsxs)("div",{className:oe,children:[(0,v.jsx)(B,{profile:e.profile,changePhotoTC:e.changePhotoTC,status:e.status,updateStatus:e.updateStatus}),(0,v.jsx)(re,{})]})]}):(0,v.jsx)(f.Z,{}):(0,v.jsx)(se.l_,{to:"/login"})},ie=r(7781),ne=function(e){(0,i.Z)(r,e);var t=(0,n.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="".concat(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return(0,v.jsx)(ae,(0,o.Z)({},this.props))}}]),r}(l.Component),le=(0,ie.qC)((0,te.$j)((function(e){return{profile:e.profilePage.profile,posts:e.profilePage.posts,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:U.et,getStatus:U.lR,updateStatus:U.Nf,changePhotoTC:U.X2}),se.EN)(ne)},9596:function(e,t,r){var o=r(1941);t.Z=void 0;var s=o(r(5649)),a=r(184),i=(0,s.default)((0,a.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=i},7488:function(e,t,r){var o=r(1941);t.Z=void 0;var s=o(r(5649)),a=r(184),i=(0,s.default)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=i},9568:function(e,t,r){e.exports=r.p+"static/media/user.4f6e5f254c74f9a804e5.webp"}}]);
//# sourceMappingURL=268.b322a35f.chunk.js.map