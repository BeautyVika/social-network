"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[831],{8831:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ne}});var o=a(1413),s=a(5671),i=a(3144),r=a(136),n=a(4876),l=a(2791),c=a(885),u="ProfileInfo_descriptionBlock__V-wC3",d="ProfileInfo_infoContainer__-bhte",f="ProfileInfo_name__XVKHr",p="ProfileInfo_btn__VPuHp",h=a(1022),m=a(8164),v=a(184),x=function(e){var t=(0,l.useState)(!1),a=(0,c.Z)(t,2),o=a[0],s=a[1],i=(0,l.useState)(e.status),r=(0,c.Z)(i,2),n=r[0],u=r[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,v.jsxs)("div",{style:{height:"max-content",fontWeight:"bold",width:"100%",wordBreak:"break-word"},children:["Status:",o?(0,v.jsx)(m.Z,{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatus(n)},value:n,color:"secondary",variant:"standard",autoFocus:!0}):(0,v.jsx)("span",{style:{fontStyle:"italic",minWidth:"100px",minHeight:"12px",cursor:"pointer",fontWeight:"normal"},onDoubleClick:function(){s(!0)},children:e.status||"No status"})]})},g=a(9596),j=a(3400),_=a(1048),b=a(2793),P=a(8182),k=a(4419),y=a(9578),C=a(551),Z=(0,a(9201).Z)((0,v.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),w=a(5878),N=a(1217);function S(e){return(0,N.Z)("MuiAvatar",e)}(0,w.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var A=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],M=(0,y.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,a=e.ownerState;return(0,b.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===a.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===a.variant&&{borderRadius:0},a.colorDefault&&(0,b.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),D=(0,y.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),F=(0,y.ZP)(Z,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var I=l.forwardRef((function(e,t){var a=(0,C.Z)({props:e,name:"MuiAvatar"}),o=a.alt,s=a.children,i=a.className,r=a.component,n=void 0===r?"div":r,u=a.imgProps,d=a.sizes,f=a.src,p=a.srcSet,h=a.variant,m=void 0===h?"circular":h,x=(0,_.Z)(a,A),g=null,j=function(e){var t=e.crossOrigin,a=e.referrerPolicy,o=e.src,s=e.srcSet,i=l.useState(!1),r=(0,c.Z)(i,2),n=r[0],u=r[1];return l.useEffect((function(){if(o||s){u(!1);var e=!0,i=new Image;return i.onload=function(){e&&u("loaded")},i.onerror=function(){e&&u("error")},i.crossOrigin=t,i.referrerPolicy=a,i.src=o,s&&(i.srcset=s),function(){e=!1}}}),[t,a,o,s]),n}((0,b.Z)({},u,{src:f,srcSet:p})),y=f||p,Z=y&&"error"!==j,w=(0,b.Z)({},a,{colorDefault:!Z,component:n,variant:m}),N=function(e){var t=e.classes,a={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,k.Z)(a,S,t)}(w);return g=Z?(0,v.jsx)(D,(0,b.Z)({alt:o,src:f,srcSet:p,sizes:d,ownerState:w,className:N.img},u)):null!=s?s:y&&o?o[0]:(0,v.jsx)(F,{ownerState:w,className:N.fallback}),(0,v.jsx)(M,(0,b.Z)({as:n,ownerState:w,className:(0,P.Z)(N.root,i),ref:t},x,{children:g}))})),z=a(9568),R="ProfileAvatar_container__Uu3lD",L="ProfileAvatar_icon__MN2kW",T=function(e){var t=e.avatar,a=e.size,o=e.changePhotoTC,s=e.isOwner;return(0,v.jsxs)("div",{className:R,children:[(0,v.jsx)(I,{src:t||z,style:{width:"".concat(a,"px"),height:"".concat(a,"px"),position:"absolute",bottom:"-117px",left:"120px"},alt:"ava"}),s&&(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&(null===o||void 0===o||o(e.target.files[0]))},style:{display:"none"},accept:"image/png, image/jpeg, image/svg"}),(0,v.jsx)(j.Z,{component:"span",style:{fontSize:"2.5rem",position:"absolute",bottom:"-114px",right:"130px",border:"1px solid #CA9CE1"},children:(0,v.jsx)(g.Z,{className:L})})]})]})},V=a(5527),J="Contact_title__LN61D",O="Contact_link__YqwCs",U=function(e){var t=e.link,a=e.title;return(0,v.jsxs)("div",{className:J,children:[(0,v.jsxs)("span",{children:[a," - "]}),(0,v.jsx)("span",{children:(0,v.jsx)("a",{href:t,className:O,children:t})})]})},E="ProfileData_profileData__WvvsG",H="ProfileData_form__0qr8G",q="ProfileData_error__m9sqW",B="ProfileData_btnGroup__fv6I1",W="ProfileData_btn__Zpscy",G="ProfileData_btnEdit__oH5Gc",X="ProfileData_btnCancel__NgTUR",K=function(e){var t=e.profile;return(0,v.jsxs)("div",{className:E,children:[(0,v.jsxs)("span",{children:["About me:",t.aboutMe]}),(0,v.jsxs)("span",{children:["Looking for a job:",t.lookingForAJob?"\ud83d\ude4b":"\ud83d\ude45"]}),t.lookingForAJob&&(0,v.jsxs)("span",{children:["My professional skills:",t.lookingForAJobDescription]}),(0,v.jsxs)("span",{children:["Contacts:",Object.entries(t.contacts).map((function(e){return(0,v.jsx)(U,{title:e[0],link:e[1]},e[0])}))]})]})},Y=a(6139),$=a(704),Q=a(2591),ee=a(3079),te=(0,$.Z)({form:"ProfileInfo"})((function(e){var t={facebook:e.initialValues.facebook,website:e.initialValues.website,vk:e.initialValues.vk,twitter:e.initialValues.twitter,instagram:e.initialValues.instagram,youtube:e.initialValues.youtube,github:e.initialValues.github,mainLink:e.initialValues.mainLink};return(0,v.jsxs)("form",{onSubmit:e.handleSubmit,className:H,children:[e.error&&(0,v.jsxs)("div",{className:q,children:[" ",e.error," "]}),(0,v.jsx)(Y.Z,{component:Q.gx,name:"fullName",type:"text",validate:[ee.C],placeholder:"Full name"}),(0,v.jsx)(Y.Z,{component:Q.gx,name:"aboutMe",type:"text",validate:[ee.C],placeholder:"About Me"}),(0,v.jsx)(Y.Z,{component:Q.Jg,name:"lookingForAJob",type:"checkbox",label:"Looking for a job"}),(0,v.jsx)("span",{children:"Looking for a job"}),(0,v.jsx)(Y.Z,{component:Q.gx,name:"lookingForAJobDescription",type:"text",validate:[ee.C],placeholder:"Skills"}),(0,v.jsx)("span",{children:"Contacts:"}),Object.keys(t).map((function(e){return(0,v.jsx)(Y.Z,{placeholder:e,type:"text",name:e,component:Q.gx},e)})),(0,v.jsxs)("div",{className:B,children:[(0,v.jsx)("button",{className:"".concat(W," ").concat(G),children:"Save"}),(0,v.jsx)("button",{className:"".concat(W," ").concat(X),onClick:function(){return e.setEditMode(!1)},children:"Cancel"})]})]})})),ae=function(e){var t=e.profile,a=e.status,o=e.updateStatus,s=e.changePhotoTC,i=e.saveProfile,r=e.isOwner,n=(0,l.useState)(!1),m=(0,c.Z)(n,2),g=m[0],j=m[1];return t?(0,v.jsx)("div",{className:u,children:(0,v.jsxs)(V.Z,{elevation:3,component:"div",sx:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,v.jsx)(T,{avatar:null===t||void 0===t?void 0:t.photos.large,changePhotoTC:s,isOwner:r,size:200}),(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("div",{className:f,children:null===t||void 0===t?void 0:t.fullName}),(0,v.jsx)(x,{status:a,updateStatus:o}),g?(0,v.jsx)(te,{onSubmit:function(e){var a={userId:t.userId,fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,contacts:{website:e.website||null,github:e.github||null,twitter:e.twitter||null,instagram:e.instagram||null,facebook:e.facebook,vk:e.vk||null,youtube:e.youtube||null,mainLink:e.mainLink||null}};i(a),j(!1)},setEditMode:j,initialValues:t}):(0,v.jsx)(K,{profile:t})]}),r&&!g&&(0,v.jsx)("button",{className:p,onClick:function(){return j(!0)},children:"Edit"})]})}):(0,v.jsx)(h.Z,{})},oe=a(7951),se="MyPosts_postsBlock__a+JeC",ie="MyPosts_posts__RKFX1",re="MyPost_itemContainer__f0WTd",ne="MyPost_imgContainer__1fx3T",le="MyPost_name__ShUle",ce="MyPost_itemPhoto__5jBwn",ue="MyPost_likeContainer__Y6Vha",de=a(7488),fe=function(e){return(0,v.jsxs)("div",{className:re,children:[(0,v.jsxs)("div",{className:ne,children:[(0,v.jsx)("img",{src:e.avatar||z,alt:"avatar",className:ce}),(0,v.jsx)("span",{className:le,children:e.name})]}),(0,v.jsx)("p",{children:e.message}),(0,v.jsxs)("div",{className:ue,children:[(0,v.jsx)(j.Z,{onClick:function(){var t=e.likesCount+1;e.addLikes(t,e.id)},size:"small",children:(0,v.jsx)(de.Z,{color:"secondary",sx:{marginRight:"-8px"}})}),(0,v.jsxs)("div",{children:[" ",e.likesCount]})]})]})},pe="AddNewPostForm_form__7caQf",he="AddNewPostForm_field__GAHUL",me="AddNewPostForm_btnPost__ZfhEH",ve=(0,ee.D)(60),xe=(0,$.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,v.jsxs)("form",{className:pe,onSubmit:e.handleSubmit,children:[(0,v.jsx)("div",{className:he,children:(0,v.jsx)(Y.Z,{component:Q.gx,name:"newPostText",validate:[ee.C,ve],placeholder:"Post message"})}),(0,v.jsx)("button",{className:me,children:"Add post"})]})})),ge=(0,l.memo)((function(e){var t=e.profilePage.posts.map((function(t){return(0,v.jsx)(V.Z,{elevation:3,component:"div",sx:{width:"100%",marginTop:"10px"},children:(0,v.jsx)(fe,{avatar:e.profilePage.profile.photos.large,name:e.profilePage.profile.fullName,id:t.id,addLikes:e.addLikes,message:t.message,likesCount:t.likesCount})},t.id)}));return(0,v.jsxs)("div",{className:se,children:[(0,v.jsxs)(V.Z,{elevation:3,component:"div",sx:{width:"100%"},children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)(xe,{onSubmit:function(t){e.addPost(t.newPostText)}})]}),(0,v.jsx)("div",{className:ie,children:t})]})})),je=a(364),_e=(0,je.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,oe.Pi)(t))},addLikes:function(t,a){e((0,oe.gI)(t,a))}}}))(ge),be="Profile_profileContainer__qljcb",Pe="Profile_containerInfo__MHtlV",ke="Profile_containerPosts__l0n+G",ye=a(9271),Ce=function(e){return e.isAuth?e.profile?(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{style:{width:"101%",height:" 300px",objectFit:"cover",borderRadius:"0%"},alt:"big content",src:"https://wallpapershome.ru/images/pages/pic_h/182.jpg"}),(0,v.jsxs)("div",{className:be,children:[(0,v.jsx)("div",{className:Pe,children:(0,v.jsx)(ae,{profile:e.profile,isOwner:e.isOwner,changePhotoTC:e.changePhotoTC,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus})}),(0,v.jsx)("div",{className:ke,children:(0,v.jsx)(_e,{})})]})]}):(0,v.jsx)(h.Z,{}):(0,v.jsx)(ye.l_,{to:"/login"})},Ze=a(7781),we=function(e){(0,r.Z)(a,e);var t=(0,n.Z)(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="".concat(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,v.jsx)(Ce,(0,o.Z)({isOwner:!this.props.match.params.userId},this.props))}}]),a}(l.Component),Ne=(0,Ze.qC)((0,je.$j)((function(e){return{profile:e.profilePage.profile,posts:e.profilePage.posts,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:oe.et,getStatus:oe.lR,updateStatus:oe.Nf,changePhotoTC:oe.X2,saveProfile:oe.Ii}),ye.EN)(we)},9596:function(e,t,a){var o=a(1941);t.Z=void 0;var s=o(a(5649)),i=a(184),r=(0,s.default)((0,i.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=r},7488:function(e,t,a){var o=a(1941);t.Z=void 0;var s=o(a(5649)),i=a(184),r=(0,s.default)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=r},9568:function(e,t,a){e.exports=a.p+"static/media/user.4f6e5f254c74f9a804e5.webp"}}]);
//# sourceMappingURL=831.482bdfd2.chunk.js.map