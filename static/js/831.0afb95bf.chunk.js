"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[831],{8831:function(e,t,o){o.r(t),o.d(t,{default:function(){return be}});var r=o(1413),a=o(5671),s=o(3144),n=o(136),i=o(4876),l=o(2791),c=o(885),u="ProfileInfo_descriptionBlock__V-wC3",d="ProfileInfo_infoContainer__-bhte",f="ProfileInfo_name__XVKHr",p=o(1022),h=o(8164),m=o(184),v=function(e){var t=(0,l.useState)(!1),o=(0,c.Z)(t,2),r=o[0],a=o[1],s=(0,l.useState)(e.status),n=(0,c.Z)(s,2),i=n[0],u=n[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,m.jsxs)("div",{style:{height:"max-content",fontWeight:"bold",width:"100%",wordBreak:"break-word"},children:["Status:",r?(0,m.jsx)(h.Z,{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(i)},value:i,color:"secondary",variant:"standard",autoFocus:!0}):(0,m.jsx)("span",{style:{fontStyle:"italic",minWidth:"100px",minHeight:"12px",cursor:"pointer",fontWeight:"normal"},onDoubleClick:function(){a(!0)},children:e.status||"No status"})]})},g=o(9596),x=o(3400),j=o(1048),b=o(2793),_=o(8182),k=o(4419),P=o(9578),C=o(551),y=(0,o(9201).Z)((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),Z=o(5878),w=o(1217);function S(e){return(0,w.Z)("MuiAvatar",e)}(0,Z.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var N=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],A=(0,P.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,o=e.ownerState;return(0,b.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===o.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===o.variant&&{borderRadius:0},o.colorDefault&&(0,b.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),M=(0,P.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),D=(0,P.ZP)(y,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var I=l.forwardRef((function(e,t){var o=(0,C.Z)({props:e,name:"MuiAvatar"}),r=o.alt,a=o.children,s=o.className,n=o.component,i=void 0===n?"div":n,u=o.imgProps,d=o.sizes,f=o.src,p=o.srcSet,h=o.variant,v=void 0===h?"circular":h,g=(0,j.Z)(o,N),x=null,P=function(e){var t=e.crossOrigin,o=e.referrerPolicy,r=e.src,a=e.srcSet,s=l.useState(!1),n=(0,c.Z)(s,2),i=n[0],u=n[1];return l.useEffect((function(){if(r||a){u(!1);var e=!0,s=new Image;return s.onload=function(){e&&u("loaded")},s.onerror=function(){e&&u("error")},s.crossOrigin=t,s.referrerPolicy=o,s.src=r,a&&(s.srcset=a),function(){e=!1}}}),[t,o,r,a]),i}((0,b.Z)({},u,{src:f,srcSet:p})),y=f||p,Z=y&&"error"!==P,w=(0,b.Z)({},o,{colorDefault:!Z,component:i,variant:v}),I=function(e){var t=e.classes,o={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,k.Z)(o,S,t)}(w);return x=Z?(0,m.jsx)(M,(0,b.Z)({alt:r,src:f,srcSet:p,sizes:d,ownerState:w,className:I.img},u)):null!=a?a:y&&r?r[0]:(0,m.jsx)(D,{ownerState:w,className:I.fallback}),(0,m.jsx)(A,(0,b.Z)({as:i,ownerState:w,className:(0,_.Z)(I.root,s),ref:t},g,{children:x}))})),F=o(9568),z="ProfileAvatar_container__Uu3lD",R=function(e){var t=e.avatar,o=e.size,r=e.changePhotoTC,a=e.isOwner;return(0,m.jsxs)("div",{className:z,children:[(0,m.jsx)(I,{src:t||F,style:{width:"".concat(o,"px"),height:"".concat(o,"px"),position:"absolute",bottom:"-117px",left:"120px"},alt:"ava"}),a&&(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length>0&&(null===r||void 0===r||r(e.target.files[0]))},style:{display:"none"},accept:"image/png, image/jpeg, image/svg"}),(0,m.jsx)(x.Z,{component:"span",style:{fontSize:"2.5rem",position:"absolute",bottom:"-114px",right:"121px",border:"1px solid #CA9CE1"},children:(0,m.jsx)(g.Z,{})})]})]})},L=o(5527),T="Contact_title__LN61D",J="Contact_link__YqwCs",O=function(e){var t=e.link,o=e.title;return(0,m.jsxs)("div",{className:T,children:[o,":",(0,m.jsx)("a",{href:t,className:J,children:t})]})},U="ProfileData_profileData__WvvsG",q="ProfileData_form__0qr8G",B="ProfileData_error__m9sqW",E="ProfileData_btnGroup__fv6I1",H="ProfileData_btnCancel__NgTUR",W=function(e){var t=e.profile;return(0,m.jsxs)("div",{className:U,children:[(0,m.jsxs)("span",{children:["About me:",t.aboutMe]}),(0,m.jsxs)("span",{children:["Looking for a job:",t.lookingForAJob?"\u2705":"\u274e"]}),t.lookingForAJob&&(0,m.jsxs)("span",{children:["My professional skills:",t.lookingForAJobDescription]}),(0,m.jsxs)("span",{children:["Contacts:",Object.entries(t.contacts).map((function(e){return(0,m.jsx)(O,{title:e[0],link:e[1]},e[0])}))]})]})},G=o(6139),V=o(704),X=o(2591),K=o(3079),Y=(0,V.Z)({form:"ProfileInfo"})((function(e){return(0,m.jsxs)("form",{onSubmit:e.handleSubmit,className:q,children:[e.error&&(0,m.jsxs)("div",{className:B,children:[" ",e.error," "]}),(0,m.jsx)(G.Z,{component:X.gx,name:"fullName",type:"text",validate:[K.C],placeholder:"Full name"}),(0,m.jsx)(G.Z,{component:X.gx,name:"aboutMe",type:"text",validate:[K.C],placeholder:"About Me"}),(0,m.jsx)(G.Z,{component:X.Jg,name:"lookingForAJob",type:"checkbox",validate:[K.C],label:"Looking for a job"}),(0,m.jsx)("span",{children:"Looking for a job"}),(0,m.jsx)(G.Z,{component:X.gx,name:"lookingForAJobDescription",type:"text",validate:[K.C],placeholder:"Skills"}),Object.keys({facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""}).map((function(e){return(0,m.jsx)(G.Z,{placeholder:e,type:"text",name:e,validate:[K.C],component:X.gx},e)})),(0,m.jsxs)("div",{className:E,children:[(0,m.jsx)("button",{children:"Send"}),(0,m.jsx)("button",{className:H,onClick:function(){return e.setEditMode(!1)},children:"Cancel"})]})]})})),$=function(e){var t=e.profile,o=e.status,r=e.updateStatus,a=e.changePhotoTC,s=e.saveProfile,n=e.isOwner,i=(0,l.useState)(!1),h=(0,c.Z)(i,2),g=h[0],x=h[1];return t?(0,m.jsx)("div",{className:u,children:(0,m.jsxs)(L.Z,{elevation:3,component:"div",sx:{width:"100%"},children:[(0,m.jsx)(R,{avatar:null===t||void 0===t?void 0:t.photos.large,changePhotoTC:a,isOwner:n,size:200}),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("div",{className:f,children:null===t||void 0===t?void 0:t.fullName}),(0,m.jsx)(v,{status:o,updateStatus:r}),g?(0,m.jsx)(Y,{onSubmit:function(e){var o={userId:t.userId,fullName:e.fullName,aboutMe:e.aboutMe,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:"React.TS",contacts:{website:e.website||null,github:e.github||null,twitter:e.twitter||null,instagram:e.instagram||null,facebook:e.facebook,vk:e.vk||null,youtube:e.youtube||null,mainLink:e.mainLink||null}};s(o),x(!1)},setEditMode:x,initialValues:t}):(0,m.jsx)(W,{profile:t})]}),n&&!g&&(0,m.jsx)("button",{onClick:function(){return x(!0)},children:"Edit"})]})}):(0,m.jsx)(p.Z,{})},Q=o(7951),ee="MyPosts_postsBlock__a+JeC",te="MyPosts_posts__RKFX1",oe="MyPost_itemContainer__f0WTd",re="MyPost_itemPhoto__5jBwn",ae="MyPost_likeContainer__Y6Vha",se=o(7488),ne=function(e){return(0,m.jsxs)("div",{className:oe,children:[(0,m.jsx)("img",{src:e.avatar||F,alt:"avatar",className:re}),e.message,(0,m.jsxs)("div",{className:ae,children:[(0,m.jsx)(x.Z,{onClick:function(){var t=e.likesCount+1;e.addLikes(t,e.id)},size:"small",children:(0,m.jsx)(se.Z,{color:"secondary",sx:{marginRight:"-8px"}})}),(0,m.jsxs)("div",{children:[" ",e.likesCount]})]})]})},ie="AddNewPostForm_field__GAHUL",le=(0,K.D)(60),ce=(0,V.Z)({form:"ProfileAddNewPostForm"})((function(e){return(0,m.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,m.jsx)("div",{className:ie,children:(0,m.jsx)(G.Z,{component:X.gx,name:"newPostText",validate:[K.C,le],placeholder:"Post message"})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add post"})})]})})),ue=(0,l.memo)((function(e){var t=e.profilePage.posts.map((function(t){return(0,m.jsx)(ne,{avatar:e.profilePage.profile.photos.large,id:t.id,addLikes:e.addLikes,message:t.message,likesCount:t.likesCount},t.id)}));return(0,m.jsx)("div",{className:ee,children:(0,m.jsxs)(L.Z,{elevation:3,component:"div",sx:{width:"100%"},children:[(0,m.jsx)("h3",{children:"My posts"}),(0,m.jsx)(ce,{onSubmit:function(t){e.addPost(t.newPostText)}}),(0,m.jsx)("div",{className:te,children:t})]})})})),de=o(364),fe=(0,de.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e((0,Q.Pi)(t))},addLikes:function(t,o){e((0,Q.gI)(t,o))}}}))(ue),pe="Profile_profileContainer__qljcb",he="Profile_containerInfo__MHtlV",me="Profile_containerPosts__l0n+G",ve=o(9271),ge=function(e){return e.isAuth?e.profile?(0,m.jsxs)("div",{children:[(0,m.jsx)("img",{style:{width:"101%",height:" 300px",objectFit:"cover",borderRadius:"0%"},alt:"big content",src:"https://wallpapershome.ru/images/pages/pic_h/182.jpg"}),(0,m.jsxs)("div",{className:pe,children:[(0,m.jsx)("div",{className:he,children:(0,m.jsx)($,{profile:e.profile,isOwner:e.isOwner,changePhotoTC:e.changePhotoTC,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus})}),(0,m.jsx)("div",{className:me,children:(0,m.jsx)(fe,{})})]})]}):(0,m.jsx)(p.Z,{}):(0,m.jsx)(ve.l_,{to:"/login"})},xe=o(7781),je=function(e){(0,n.Z)(o,e);var t=(0,i.Z)(o);function o(){return(0,a.Z)(this,o),t.apply(this,arguments)}return(0,s.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e="".concat(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)(ge,(0,r.Z)({isOwner:!this.props.match.params.userId},this.props))}}]),o}(l.Component),be=(0,xe.qC)((0,de.$j)((function(e){return{profile:e.profilePage.profile,posts:e.profilePage.posts,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Q.et,getStatus:Q.lR,updateStatus:Q.Nf,changePhotoTC:Q.X2,saveProfile:Q.Ii}),ve.EN)(je)},9596:function(e,t,o){var r=o(1941);t.Z=void 0;var a=r(o(5649)),s=o(184),n=(0,a.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.Z=n},7488:function(e,t,o){var r=o(1941);t.Z=void 0;var a=r(o(5649)),s=o(184),n=(0,a.default)((0,s.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=n},9568:function(e,t,o){e.exports=o.p+"static/media/user.4f6e5f254c74f9a804e5.webp"}}]);
//# sourceMappingURL=831.0afb95bf.chunk.js.map